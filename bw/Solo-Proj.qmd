---
title: "Solo -Proj."
editor: visual
---



```{r,echo=FALSE, message=FALSE, warning=FALSE, include=FALSE}
library(readxl)

# Full path to your file (downloaded from this session)
covid_data <- read_excel("C:/Users/ramir/Downloads/CaseCountData (2).xlsx", 
                         sheet = "Case and Fatalities_2023", 
                         skip = 1)

# View the first few rows
head(covid_data)



```
```{r,echo=FALSE, message=FALSE, warning=FALSE, include=FALSE}
library(tigris)
library(sf)

# Download Texas county shapefile
counties_sf <- counties(state = "TX", cb = TRUE, class = "sf")

```


```{r,echo=FALSE, message=FALSE, warning=FALSE}

library(dplyr)

# Make sure county names match (sometimes they're titled differently)
# Left join your COVID data to the counties map
map_data <- counties_sf  %>%
  left_join(covid_data, by = c("NAME" = "County"))

```


```{r,echo=FALSE, message=FALSE, warning=FALSE}
# First clean the names in your covid_data
covid_data <- covid_data %>%
  mutate(County = gsub(" County", "", County),    # Remove "County" if present
         County = trimws(County),                 # Remove extra spaces
         County = tolower(County))                # Make lowercase

# Clean the names in counties_sf
counties_sf <- counties_sf %>%
  mutate(NAME = tolower(NAME))                    # Make lowercase

```

```{r,echo=FALSE, message=FALSE, warning=FALSE}
map_data <- counties_sf %>%
  left_join(covid_data, by = c("NAME" = "County"))

```

```{r,echo=FALSE, message=FALSE, warning=FALSE}
# Fix the column names
colnames(covid_data) <- c("County", "Confirmed_Cases", "Probable_Cases", "Fatalities")

```
```{r,echo=FALSE, message=FALSE, warning=FALSE}
map_data <- counties_sf %>%
  left_join(covid_data, by = c("NAME" = "County"))

```

```{r,echo=FALSE, message=FALSE, warning=FALSE}
library(dplyr)
library(readxl)
library(tigris)
library(sf)
library(ggplot2)
library(viridis)
ggplot(map_data) +
  geom_sf(aes(fill = Confirmed_Cases)) +
  scale_fill_viridis_c(option = "plasma", na.value = "gray90") +
  labs(
    title = "Texas COVID-19 Confirmed Cases by County (2023)",
    fill = "Confirmed Cases",
    caption = "By Isaiah Ramirez, 4/30/2025, Source:https://www.dshs.texas.gov/covid-19-coronavirus-disease-2019/texas-covid-19-data"
  ) +
  theme_minimal()+
  theme(
    axis.text = element_blank(),    # Remove numbers on x and y axes
    axis.ticks = element_blank(),   # Remove the little tick marks
    panel.grid = element_blank()    # Remove background grid
  )

```


